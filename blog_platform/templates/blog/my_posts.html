{% extends "base.html" %}

{% block content %}
<h1>My Posts</h1>

{# Display each post with edit and delete options #}
{% for post in posts %}
    <div>
        <h2>{{ post.title }}</h2>
        <p>Created on {{ post.created_at }}</p>

        {# Edit button - only for author or superuser #}
        {% if user == post.author or user.is_superuser %}
            <a href="{% url 'blog:edit_post' post.id %}" class="btn btn-primary">Edit</a>
        {% endif %}

        {# Delete button - only for author or superuser #}
        {% if user == post.author or user.is_superuser %}
            <a href="{% url 'blog:delete_post' post.id %}" class="btn btn-danger">Delete</a>
        {% endif %}
    </div>
{% empty %}
    <p>You have not created any posts yet.</p>
{% endfor %}

{% endblock %}
